alias b="bundle"
alias be="bundle exec"
alias bespec="bundle exec rspec"
alias betest="bundle exec rake test"

alias ru="ruby"
alias t="thor"
alias d="docker"

# git
alias g='git'
alias gs='git status'
alias gb='git branch'
alias gd='git diff'
alias gdt='git difftool'

# ls
case "${OSTYPE}" in
darwin*)
  alias ls='ls -G'
  alias ll='ls -la'
  alias la="ll"
  ;;
linux*)
  alias ls='ls --color'
  alias ll='ls -l --color'
  alias la='ls -la --color'
  ;;
esac

# ruby,rails
alias be='bundle exec'
alias bespec='bundle exec spec'

#cd
alias src='cd ~/src'

alias reload_bashrc='. ~/.bashrc'

function review() {
  branch=$1
  if [[ -z $REVIEW_INTEGRATION_BRANCH ]]
  then
    REVIEW_INTEGRATION_BRANCH="origin/master"
  fi
 
  git checkout -B code-review
  git remote update
  git reset --hard ${REVIEW_INTEGRATION_BRANCH}
 
  git merge $branch
 
  echo "Reviewing branch $branch"
}
 
function end-review() {
  if [[ -z $REVIEW_INTEGRATION_BRANCH ]]
  then
    REVIEW_INTEGRATION_BRANCH="origin/master"
  fi
  if [[ -z $REVIEW_LOCAL_BRANCH ]]
  then
    REVIEW_LOCAL_BRANCH="master"
  fi
 
  git remote update
  git checkout -B code-review
  git reset --hard ${REVIEW_INTEGRATION_BRANCH}
  git checkout -B ${REVIEW_LOCAL_BRANCH}
  git reset --hard ${REVIEW_INTEGRATION_BRANCH}
}


function historyssh() {
  history | grep " ssh " | awk '!colname[$3]++{print($2,$3)}'
}

function latest-ssh() {
  `historyssh | awk 'END {print}'` $@
}

